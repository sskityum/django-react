(this.webpackJsonpreact_for_heroku=this.webpackJsonpreact_for_heroku||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n(2),o=n(9),s=n.n(o),i=(n(17),Object(r.createContext)()),l=function(){var e=Object(r.useContext)(i),t=e.note,n=e.changeNote,c=e.addNote,o=e.clearingNote;return Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.title.trim()&&c(),o()},children:[Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"add here ...",value:t.title,onChange:function(e){n(e.target.value)}})}),Object(a.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Submit"})]})},u=function(e){var t=e.note,n=e.index,c=Object(r.useContext)(i),o=c.removeNote,s=c.startEdtNote,l=c.setStrikeUnstrike;return Object(a.jsxs)("li",{className:"list-group-item",style:{display:"flex",justifyContent:"space-between"},children:[Object(a.jsxs)("ul",{className:"list-group list-group-horizontal",style:{width:"85%"},children:[Object(a.jsx)("li",{className:"list-group-item",style:{width:"4rem",textAlign:"center"},children:Object(a.jsx)("small",{children:n+1})}),Object(a.jsx)("li",{className:"list-group-item",style:{width:"100%",cursor:"pointer"},onClick:function(){return l(t)},children:t.completed?Object(a.jsx)("strong",{style:{textDecoration:"line-through",opacity:.2},children:t.title}):Object(a.jsx)("strong",{children:t.title})})]}),Object(a.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return s(t)},children:"Edit"}),Object(a.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return o(t.id)},children:"Remove"})]})]})},d=function(){var e=Object(r.useContext)(i),t=e.loading,n=e.notes,c=e.fetchNotes;return Object(r.useEffect)((function(){c()}),[]),Object(a.jsx)("ul",{className:"list-group",children:t?Object(a.jsx)("p",{className:"h3",children:"loading ..."}):n.length?n.map((function(e,t){return Object(a.jsx)(u,{index:t,note:e},t)})):Object(a.jsx)("p",{className:"h3",children:"all tasks completed ..."})})},j=function(){return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12",style:{textAlign:"center"},children:Object(a.jsx)("h1",{className:"display-2",children:"django+react-todo to heroku"})})}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12",children:Object(a.jsx)(l,{})})}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12",children:Object(a.jsx)(d,{})})})]})},p=n(4),b=n.n(p),O=n(6),h=n(10),f=n(3),m=n(11),x=n(1),y="SHOW_LODER",v="FETCH_NOTES",g="REMOVE_NOTE",N="ADD_NOTE",k="CHANGE_NOTE",E="CLEARING_NOTE",w="START_EDT_NOTE",T="SAVE_EDT_NOTE",C=(c={},Object(f.a)(c,y,(function(e){return Object(x.a)(Object(x.a)({},e),{},{loading:!0})})),Object(f.a)(c,v,(function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{notes:n,loading:!1})})),Object(f.a)(c,g,(function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{notes:e.notes.filter((function(e){return e.id!==n})),loading:!1})})),Object(f.a)(c,N,(function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{notes:[].concat(Object(m.a)(e.notes),[Object(x.a)({},n)]),loading:!1})})),Object(f.a)(c,k,(function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{note:Object(x.a)(Object(x.a)({},e.note),{},{title:n})})})),Object(f.a)(c,E,(function(e){return Object(x.a)(Object(x.a)({},e),{},{note:{id:null,title:"",completed:!1}})})),Object(f.a)(c,w,(function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{note:{id:n.id,title:n.title,completed:n.completed},editing:!0})})),Object(f.a)(c,T,(function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{notes:e.notes.map((function(e){return e.id===n.id?e=n:e})),loading:!1,editing:!1})})),Object(f.a)(c,"DEFAULT",(function(e){return e})),c),S=function(e,t){return(C[t.type]||t.DEFAULT)(e,t)},_="https://fast-basin-91658.herokuapp.com",D=function(e){var t=e.children,n=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),c=0;c<n.length;c++){var a=n[c].trim();if(a.substring(0,e.length+1)===e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t},c=Object(r.useReducer)(S,{note:{id:null,title:"",completed:!1},notes:[],loading:!1,editing:!1}),o=Object(h.a)(c,2),s=o[0],l=o[1],u=function(){return l({type:y})},d=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(),e.prev=1,e.next=4,fetch("".concat(_,"/api/task-list/"));case 4:if(!(t=e.sent).ok){e.next=10;break}return e.next=8,t.json();case 8:n=e.sent,l({type:v,payload:n});case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),new Error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(O.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(),c=n("csrftoken"),e.next=4,fetch("".concat(_,"/api/task-delete/").concat(t,"/"),{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":c}});case 4:l({type:g,payload:t});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(O.a)(b.a.mark((function e(){var t,c,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(),t=n("csrftoken"),c="".concat(_,"/api/task-create/"),s.editing&&(c="".concat(_,"/api/task-update/").concat(s.note.id,"/")),e.prev=4,e.next=7,fetch(c,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:JSON.stringify(s.note)});case 7:if(!(a=e.sent).ok){e.next=13;break}return e.next=11,a.json();case 11:r=e.sent,s.editing?l({type:T,payload:r}):l({type:N,payload:r});case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),new Error(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(O.a)(b.a.mark((function e(t){var c,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n("csrftoken"),t.completed=!t.completed,e.prev=2,e.next=5,fetch("".concat(_,"/api/task-update/").concat(t.id,"/"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":c},body:JSON.stringify({completed:t.completed,title:t.title})});case 5:if(!(a=e.sent).ok){e.next=11;break}return e.next=9,a.json();case 9:r=e.sent,l({type:T,payload:r});case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(2),new Error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(i.Provider,{value:{loading:s.loading,note:s.note,notes:s.notes,fetchNotes:d,removeNote:j,addNote:p,changeNote:function(e){return l({type:k,payload:e})},clearingNote:function(){return l({type:E})},startEdtNote:function(e){return l({type:w,payload:e})},setStrikeUnstrike:f},children:t})};s.a.render(Object(a.jsx)(D,{children:Object(a.jsx)(j,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.dd5120ad.chunk.js.map